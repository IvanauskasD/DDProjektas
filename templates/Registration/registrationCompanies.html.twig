{% extends 'base.html.twig' %}

{% block title %}<title>Register company</title>{% endblock %}
{% block body %}
    <body>
    {{ error }}
    {{ form(registration_form) }}





{% block javascripts %}
    {{ parent() }}
    <script src={{ asset('scripts/sweetalert2.all.js') }}></script>
    <script type="text/javascript">
        function alertSuccess() {
            swal({
                title: 'Registration successful',
                text: "You can now login",
                type: 'success',
                confirmButtonColor: '#3085d6',
                confirmButtonText: 'Ok'
                }).then((result) => {
                    if (result.value)
                    {
                        window.location.replace('/');
                    }
            })
        }
        function alertFailure() {
            swal({
                position: 'center',
                type: 'error',
                title: 'Invalid fields',
                showConfirmButton: false,
                timer: 1500
            })
        }
    </script>
    {% endblock %}


    {%   if tried == true %}
        {%   if success == true %}
            <script>alertSuccess()</script>
        {% else %}
            <script>alertFailure()</script>

        {% endif %}

    {% endif %}

    </body>
{%  endblock %}
